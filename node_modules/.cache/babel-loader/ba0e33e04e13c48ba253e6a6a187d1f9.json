{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Aleksandra Miteva/Desktop/Node-library-Kris/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Aleksandra Miteva/Desktop/Node-library-Kris/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Aleksandra Miteva/Desktop/Node-library-Kris/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import books from'../assets/childrensbooks.json';import{useHistory}from'react-router-dom';/**\n * 1. Hämta id från url:en exempelvis localhost:3000/info/1 \n * 2. Läs in childrensbooks.json\n * 3. Filtera ut den bok som motsvarar det ID som finns i url:en\n * 4. Visa detaljerad info om bok\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BookInfo(){//Hämtar ut vad som finns i url:en efter /info det som i App.js är :id\nvar _useParams=useParams(),id=_useParams.id;var history=useHistory();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),book=_useState2[0],setBook=_useState2[1];console.log('useParams: ',id);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:7000/books/\".concat(id));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setBook(data);case 7:case\"end\":return _context.stop();}}},_callee);})),[]);return/*#__PURE__*/_jsx(\"main\",{class:\"background-dark\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"book-info\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",class:\"back\",onClick:function onClick(){return history.push('/');},children:\"\\u2190\"})}),/*#__PURE__*/_jsx(\"section\",{class:\"display\",children:/*#__PURE__*/_jsxs(\"article\",{class:\"book\",style:{backgroundColor:book.color},children:[/*#__PURE__*/_jsx(\"section\",{class:\"bg\"}),/*#__PURE__*/_jsxs(\"section\",{class:\"content\",children:[/*#__PURE__*/_jsx(\"aside\",{}),/*#__PURE__*/_jsxs(\"section\",{class:\"about\",children:[/*#__PURE__*/_jsx(\"h2\",{children:book.title}),/*#__PURE__*/_jsx(\"h3\",{children:book.author})]})]})]})}),/*#__PURE__*/_jsxs(\"section\",{class:\"info\",children:[/*#__PURE__*/_jsx(\"h1\",{children:book.title}),/*#__PURE__*/_jsx(\"h3\",{children:book.author}),/*#__PURE__*/_jsx(\"p\",{children:book.plot}),/*#__PURE__*/_jsxs(\"footer\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Audience:\"}),\" \",book.audience]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"First Published:\"}),\" \",book.year]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Pages:\"}),\" \",book.pages||'-']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Publisher:\"}),\" \",book.publisher]})]})]})]})});}export default BookInfo;","map":{"version":3,"sources":["C:/Users/Aleksandra Miteva/Desktop/Node-library-Kris/src/components/BookInfo.js"],"names":["React","useState","useEffect","useParams","books","useHistory","BookInfo","id","history","book","setBook","console","log","fetch","response","json","data","push","backgroundColor","color","title","author","plot","audience","year","pages","publisher"],"mappings":"8fAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,+BAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA;AACA;AACA;AACA;AACA;AACA,G,wFAGA,QAASC,CAAAA,QAAT,EAAoB,CAChB;AADgB,eAEDH,SAAS,EAFR,CAERI,EAFQ,YAERA,EAFQ,CAGhB,GAAMC,CAAAA,OAAO,CAAGH,UAAU,EAA1B,CAHgB,cAISJ,QAAQ,CAAC,EAAD,CAJjB,wCAITQ,IAJS,eAIFC,OAJE,eAKhBC,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BL,EAA3B,EAEAL,SAAS,sEAAC,2KACiBW,CAAAA,KAAK,uCAAgCN,EAAhC,EADtB,QACAO,QADA,qCAEaA,CAAAA,QAAQ,CAACC,IAAT,EAFb,QAEAC,IAFA,eAINN,OAAO,CAACM,IAAD,CAAP,CAJM,sDAAD,GAKN,EALM,CAAT,CAOA,mBACI,aAAM,KAAK,CAAC,iBAAZ,uBACI,aAAK,KAAK,CAAC,WAAX,wBACI,qCACI,UAAG,IAAI,CAAC,GAAR,CAAY,KAAK,CAAC,MAAlB,CAAyB,OAAO,CAAG,yBAAMR,CAAAA,OAAO,CAACS,IAAR,CAAa,GAAb,CAAN,EAAnC,oBADJ,EADJ,cAII,gBAAS,KAAK,CAAC,SAAf,uBACI,iBAAS,KAAK,CAAC,MAAf,CAAsB,KAAK,CAAE,CAAEC,eAAe,CAAET,IAAI,CAACU,KAAxB,CAA7B,wBACI,gBAAS,KAAK,CAAC,IAAf,EADJ,cAEI,iBAAS,KAAK,CAAC,SAAf,wBACI,gBADJ,cAEI,iBAAS,KAAK,CAAC,OAAf,wBACI,oBAAMV,IAAI,CAACW,KAAX,EADJ,cAEI,oBAAMX,IAAI,CAACY,MAAX,EAFJ,GAFJ,GAFJ,GADJ,EAJJ,cAgBI,iBAAS,KAAK,CAAC,MAAf,wBACI,oBAAMZ,IAAI,CAACW,KAAX,EADJ,cAEI,oBAAMX,IAAI,CAACY,MAAX,EAFJ,cAGI,mBAAKZ,IAAI,CAACa,IAAV,EAHJ,cAII,uCACI,kCAAG,gCAAH,KAAsBb,IAAI,CAACc,QAA3B,GADJ,cAEI,kCAAG,uCAAH,KAA6Bd,IAAI,CAACe,IAAlC,GAFJ,cAGI,kCAAG,6BAAH,KAAmBf,IAAI,CAACgB,KAAL,EAAc,GAAjC,GAHJ,cAII,kCAAG,iCAAH,KAAuBhB,IAAI,CAACiB,SAA5B,GAJJ,GAJJ,GAhBJ,GADJ,EADJ,CAgCH,CAED,cAAepB,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport books from '../assets/childrensbooks.json';\nimport { useHistory } from 'react-router-dom';\n\n/**\n * 1. Hämta id från url:en exempelvis localhost:3000/info/1 \n * 2. Läs in childrensbooks.json\n * 3. Filtera ut den bok som motsvarar det ID som finns i url:en\n * 4. Visa detaljerad info om bok\n */\n\n\nfunction BookInfo() {\n    //Hämtar ut vad som finns i url:en efter /info det som i App.js är :id\n    const { id } = useParams();\n    const history = useHistory();\n    const [book , setBook] = useState({});\n    console.log('useParams: ', id);\n\n    useEffect(async () => {\n        const response = await fetch(`http://localhost:7000/books/${id}`);\n        const data = await response.json();\n        \n        setBook(data);\n    }, [])\n\n    return (\n        <main class=\"background-dark\">\n            <div class=\"book-info\">\n                <header>\n                    <a href=\"#\" class=\"back\" onClick={ () => history.push('/') }>&#8592;</a>\n                </header>\n                <section class=\"display\">\n                    <article class=\"book\" style={{ backgroundColor: book.color }}>\n                        <section class=\"bg\"></section>\n                        <section class=\"content\">\n                            <aside></aside>\n                            <section class=\"about\">\n                                <h2>{ book.title }</h2>\n                                <h3>{ book.author }</h3>\n                            </section>\n                        </section>\n                    </article>\n                </section>\n                <section class=\"info\">\n                    <h1>{ book.title }</h1>\n                    <h3>{ book.author }</h3>\n                    <p>{ book.plot }</p>\n                    <footer>\n                        <p><b>Audience:</b> { book.audience }</p>\n                        <p><b>First Published:</b> { book.year }</p>\n                        <p><b>Pages:</b> { book.pages || '-' }</p>\n                        <p><b>Publisher:</b> { book.publisher }</p>\n                    </footer>\n                </section>\n            </div>\n        </main>\n    )\n}\n\nexport default BookInfo;"]},"metadata":{},"sourceType":"module"}